# Проєктування бази даних

В рамках проекту розробляється: 

- ER-модель

@startuml

    entity Project {
        name: text
        team: Team
    }

    entity Task {
        name: text
        deadline: date
        responsible: Member
        status: text
    }

    entity Team {
        name: text
        icon: imageFile
    }

    entity User {
        name: text
        password: text
    }
    
    entity Member {
        name: text
    }

    entity Role {
        name: text
    }

    entity Action {
        name: text
        date: date
        type: text
    }

    entity Artefact {
        name: text
        link: text
    }
    
    entity Grant {}
    
    entity State {}

    Task "0, *" -- "1,1" Project
    Team "1, 1" -- "0, *" Project
    Member "1, *" -- "1, 1" Team
    Member "0, *" -- "1, 1" User
    Artefact "0, *" -- "1, 1" Task
    Grant "0, *" -- "1, 1" Member
    Grant "1, *" -- "0, 1" Task
    Grant "1, *" -- "0, 1" Role
    Grant "1, *" -- "1, 1" Action
    State "1, 1" -- "0, *" Action

@enduml

Пояснення до **ER-моделі**:

Entities:
- Project - проєкт
- Team - команда
- Member - учасник команди
- Grant - об'єкт який описує право
- User - користувач
- Role - роль в команді. Роль складається із набору грантів
- Action - дія
- State - журнал виконаних дій
- Task - завдання
- Artefact - артефакт

Головною сутністю є проєкт. До проєкту прив'язана 1 і тільки 1 команда, також у проєкті можна створювати безліч завдань.
За кожним завданням закріплена невизначена кількість артефактів.
Команда складається з 1 чи більше учасників, при цьому кожен з них є користуачем СУП. У той же час один користувач може бути учасником багатьох команд.
Грант це об'єкт, що описує право на якусь дію напрямлену на менеджемент проєкту, завдання чи команди. Кожному завданню можуть відповідати багато грантів, так само як і проєкту, команді, але в моделі не позначені зв'язки гранту з командою та проєктом, так як вони в межах одного проєкту завжди виступають в єдиному екземплярі. Гранти прив'язані до конкретних учасника та дії.
Роль може бути присвоєна учаснику, але не напряму, а як набір грантів.
Дії запусуються у журнал виконаних дій.